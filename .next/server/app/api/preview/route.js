"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/preview/route";
exports.ids = ["app/api/preview/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpreview%2Froute&page=%2Fapi%2Fpreview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreview%2Froute.ts&appDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpreview%2Froute&page=%2Fapi%2Fpreview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreview%2Froute.ts&appDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_corinfogarty_Desktop_Dev_Playground_Training_app_api_preview_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/preview/route.ts */ \"(rsc)/./app/api/preview/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/preview/route\",\n        pathname: \"/api/preview\",\n        filename: \"route\",\n        bundlePath: \"app/api/preview/route\"\n    },\n    resolvedPagePath: \"/Users/corinfogarty/Desktop/Dev Playground/Training/app/api/preview/route.ts\",\n    nextConfigOutput,\n    userland: _Users_corinfogarty_Desktop_Dev_Playground_Training_app_api_preview_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/preview/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcmV2aWV3JTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcmV2aWV3JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJldmlldyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNvcmluZm9nYXJ0eSUyRkRlc2t0b3AlMkZEZXYlMjBQbGF5Z3JvdW5kJTJGVHJhaW5pbmclMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY29yaW5mb2dhcnR5JTJGRGVza3RvcCUyRkRldiUyMFBsYXlncm91bmQlMkZUcmFpbmluZyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM0QjtBQUN6RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYWluaW5nLWh1Yi8/ODdjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvY29yaW5mb2dhcnR5L0Rlc2t0b3AvRGV2IFBsYXlncm91bmQvVHJhaW5pbmcvYXBwL2FwaS9wcmV2aWV3L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcmV2aWV3L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJldmlld1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJldmlldy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9jb3JpbmZvZ2FydHkvRGVza3RvcC9EZXYgUGxheWdyb3VuZC9UcmFpbmluZy9hcHAvYXBpL3ByZXZpZXcvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJldmlldy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpreview%2Froute&page=%2Fapi%2Fpreview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreview%2Froute.ts&appDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/preview/route.ts":
/*!**********************************!*\
  !*** ./app/api/preview/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nfunction isValidUrl(urlString) {\n    try {\n        const url = new URL(urlString);\n        return url.protocol === \"http:\" || url.protocol === \"https:\";\n    } catch  {\n        return false;\n    }\n}\nfunction getAbsoluteUrl(relativeUrl, baseUrl) {\n    try {\n        if (!relativeUrl) return null;\n        // Handle protocol-relative URLs\n        if (relativeUrl.startsWith(\"//\")) {\n            return `https:${relativeUrl}`;\n        }\n        // Handle root-relative URLs\n        if (relativeUrl.startsWith(\"/\")) {\n            const url = new URL(baseUrl);\n            return `${url.origin}${relativeUrl}`;\n        }\n        // Handle already absolute URLs\n        if (relativeUrl.startsWith(\"http\")) {\n            return relativeUrl;\n        }\n        // Handle relative URLs\n        return new URL(relativeUrl, baseUrl).toString();\n    } catch (error) {\n        console.error(\"Error converting to absolute URL:\", error);\n        return null;\n    }\n}\nfunction getYouTubeId(url) {\n    try {\n        const urlObj = new URL(url);\n        if (urlObj.hostname.includes(\"youtube.com\")) {\n            return urlObj.searchParams.get(\"v\");\n        } else if (urlObj.hostname === \"youtu.be\") {\n            return urlObj.pathname.slice(1);\n        }\n        return null;\n    } catch  {\n        return null;\n    }\n}\nfunction findMetaContent(text, patterns) {\n    for (const pattern of patterns){\n        const match = text.match(pattern);\n        if (match?.[1]) {\n            return match[1];\n        }\n    }\n    return null;\n}\nfunction getDefaultImage(hostname) {\n    const defaultImages = {\n        \"youtube.com\": \"https://www.youtube.com/img/desktop/yt_1200.png\",\n        \"youtu.be\": \"https://www.youtube.com/img/desktop/yt_1200.png\",\n        \"github.com\": \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"linkedin.com\": \"https://static.licdn.com/aero-v1/sc/h/3usjoqvsfrr7z3ovwvk8r6mz0\",\n        \"figma.com\": \"https://cdn.sanity.io/images/599r6htc/localized/46a76c802176eb17b04e12108de7e7e0f3736dc6-1108x1108.png\",\n        \"twitter.com\": \"https://abs.twimg.com/responsive-web/client-web/icon-ios.b1fc727a.png\",\n        \"medium.com\": \"https://miro.medium.com/v2/1*m-R_BkNf1Qjr1YbyOIJY2w.png\",\n        \"codepen.io\": \"https://assets.codepen.io/t-1/codepen-logo.svg\"\n    };\n    for (const [domain, image] of Object.entries(defaultImages)){\n        if (hostname.includes(domain)) {\n            return image;\n        }\n    }\n    return null;\n}\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const urlString = searchParams.get(\"url\");\n    if (!urlString || !isValidUrl(urlString)) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Invalid URL\",\n            title: \"Invalid URL\",\n            siteName: \"Error\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        const url = new URL(urlString);\n        console.log(\"Fetching preview for:\", urlString);\n        // Handle YouTube URLs\n        const youtubeId = getYouTubeId(urlString);\n        if (youtubeId) {\n            console.log(\"YouTube video detected, ID:\", youtubeId);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                title: \"YouTube Video\",\n                image: `https://img.youtube.com/vi/${youtubeId}/maxresdefault.jpg`,\n                siteName: \"YouTube\",\n                type: \"video\"\n            });\n        }\n        // Try default image first\n        const defaultImage = getDefaultImage(url.hostname);\n        if (defaultImage) {\n            console.log(\"Using default image for:\", url.hostname);\n        }\n        // Fetch page content\n        const response = await fetch(urlString, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36\"\n            },\n            next: {\n                revalidate: 3600\n            }\n        }).catch((error)=>{\n            console.error(\"Error fetching URL:\", error);\n            return null;\n        });\n        if (!response?.ok) {\n            console.log(\"Failed to fetch URL, using default image\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                title: url.hostname,\n                siteName: url.hostname,\n                type: \"link\",\n                image: defaultImage,\n                error: \"Failed to fetch URL\"\n            });\n        }\n        const text = await response.text();\n        // Try multiple meta tag patterns for images\n        const imagePatterns = [\n            /<meta[^>]*property=\"og:image\"[^>]*content=\"([^\"]*)\"[^>]*>/i,\n            /<meta[^>]*content=\"([^\"]*)\"[^>]*property=\"og:image\"[^>]*>/i,\n            /<meta[^>]*name=\"twitter:image\"[^>]*content=\"([^\"]*)\"[^>]*>/i,\n            /<meta[^>]*content=\"([^\"]*)\"[^>]*name=\"twitter:image\"[^>]*>/i,\n            /<link[^>]*rel=\"image_src\"[^>]*href=\"([^\"]*)\"[^>]*>/i,\n            /<link[^>]*href=\"([^\"]*)\"[^>]*rel=\"image_src\"[^>]*>/i\n        ];\n        let imageUrl = findMetaContent(text, imagePatterns);\n        console.log(\"Found meta image:\", imageUrl);\n        // If no meta image found, try to find a large image in the HTML\n        if (!imageUrl) {\n            const imgPattern = /<img[^>]*src=\"([^\"]*)\"[^>]*>/gi;\n            let match;\n            while((match = imgPattern.exec(text)) !== null){\n                const imgTag = match[0];\n                const src = match[1];\n                // Check if image has width/height attributes indicating a large image\n                const widthMatch = imgTag.match(/width=\"(\\d+)\"/i);\n                const heightMatch = imgTag.match(/height=\"(\\d+)\"/i);\n                if (widthMatch && heightMatch) {\n                    const width = parseInt(widthMatch[1]);\n                    const height = parseInt(heightMatch[1]);\n                    if (width >= 200 && height >= 200) {\n                        imageUrl = src;\n                        console.log(\"Found large image in HTML:\", imageUrl);\n                        break;\n                    }\n                }\n            }\n        }\n        // Convert relative URLs to absolute\n        if (imageUrl) {\n            const absoluteUrl = getAbsoluteUrl(imageUrl, url.origin);\n            if (absoluteUrl) {\n                imageUrl = absoluteUrl;\n                console.log(\"Converted to absolute URL:\", imageUrl);\n            }\n        }\n        // Fallback to default image if no image found\n        if (!imageUrl && defaultImage) {\n            imageUrl = defaultImage;\n            console.log(\"Using default image fallback\");\n        }\n        // Get other metadata\n        const titlePatterns = [\n            /<meta[^>]*property=\"og:title\"[^>]*content=\"([^\"]*)\"[^>]*>/i,\n            /<meta[^>]*content=\"([^\"]*)\"[^>]*property=\"og:title\"[^>]*>/i,\n            /<title>(.*?)<\\/title>/i\n        ];\n        const descriptionPatterns = [\n            /<meta[^>]*property=\"og:description\"[^>]*content=\"([^\"]*)\"[^>]*>/i,\n            /<meta[^>]*content=\"([^\"]*)\"[^>]*property=\"og:description\"[^>]*>/i,\n            /<meta[^>]*name=\"description\"[^>]*content=\"([^\"]*)\"[^>]*>/i\n        ];\n        const siteNamePatterns = [\n            /<meta[^>]*property=\"og:site_name\"[^>]*content=\"([^\"]*)\"[^>]*>/i,\n            /<meta[^>]*content=\"([^\"]*)\"[^>]*property=\"og:site_name\"[^>]*>/i\n        ];\n        const title = findMetaContent(text, titlePatterns) || url.hostname;\n        const description = findMetaContent(text, descriptionPatterns) || \"\";\n        const siteName = findMetaContent(text, siteNamePatterns) || url.hostname;\n        const result = {\n            title,\n            description,\n            image: imageUrl,\n            siteName,\n            type: \"link\"\n        };\n        console.log(\"Preview result:\", result);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(result);\n    } catch (error) {\n        console.error(\"Error processing URL:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            title: \"Invalid URL\",\n            siteName: \"Error\",\n            type: \"link\",\n            error: \"Failed to process URL\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TTFCLFdBQVdmLGdCQUFnQkMsTUFBTXlDLHFCQUFxQjdELElBQUlhLFFBQVE7UUFFeEUsTUFBTWtELFNBQVM7WUFDYjlCO1lBQ0E2QjtZQUNBbkMsT0FBT3FCO1lBQ1BkO1lBQ0FJLE1BQU07UUFDUjtRQUVBNUIsUUFBUTBCLEdBQUcsQ0FBQyxtQkFBbUIyQjtRQUMvQixPQUFPbEUsa0ZBQVlBLENBQUNtQyxJQUFJLENBQUMrQjtJQUUzQixFQUFFLE9BQU90RCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9aLGtGQUFZQSxDQUFDbUMsSUFBSSxDQUFDO1lBQ3ZCQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkksTUFBTTtZQUNON0IsT0FBTztRQUNUO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYWluaW5nLWh1Yi8uL2FwcC9hcGkvcHJldmlldy9yb3V0ZS50cz8wZjhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuXG5mdW5jdGlvbiBpc1ZhbGlkVXJsKHVybFN0cmluZzogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpXG4gICAgcmV0dXJuIHVybC5wcm90b2NvbCA9PT0gJ2h0dHA6JyB8fCB1cmwucHJvdG9jb2wgPT09ICdodHRwczonXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFic29sdXRlVXJsKHJlbGF0aXZlVXJsOiBzdHJpbmcsIGJhc2VVcmw6IHN0cmluZykge1xuICB0cnkge1xuICAgIGlmICghcmVsYXRpdmVVcmwpIHJldHVybiBudWxsXG4gICAgXG4gICAgLy8gSGFuZGxlIHByb3RvY29sLXJlbGF0aXZlIFVSTHNcbiAgICBpZiAocmVsYXRpdmVVcmwuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgcmV0dXJuIGBodHRwczoke3JlbGF0aXZlVXJsfWBcbiAgICB9XG4gICAgXG4gICAgLy8gSGFuZGxlIHJvb3QtcmVsYXRpdmUgVVJMc1xuICAgIGlmIChyZWxhdGl2ZVVybC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYmFzZVVybClcbiAgICAgIHJldHVybiBgJHt1cmwub3JpZ2lufSR7cmVsYXRpdmVVcmx9YFxuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgYWxyZWFkeSBhYnNvbHV0ZSBVUkxzXG4gICAgaWYgKHJlbGF0aXZlVXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgcmV0dXJuIHJlbGF0aXZlVXJsXG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSByZWxhdGl2ZSBVUkxzXG4gICAgcmV0dXJuIG5ldyBVUkwocmVsYXRpdmVVcmwsIGJhc2VVcmwpLnRvU3RyaW5nKClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb252ZXJ0aW5nIHRvIGFic29sdXRlIFVSTDonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFlvdVR1YmVJZCh1cmw6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKVxuICAgIGlmICh1cmxPYmouaG9zdG5hbWUuaW5jbHVkZXMoJ3lvdXR1YmUuY29tJykpIHtcbiAgICAgIHJldHVybiB1cmxPYmouc2VhcmNoUGFyYW1zLmdldCgndicpXG4gICAgfSBlbHNlIGlmICh1cmxPYmouaG9zdG5hbWUgPT09ICd5b3V0dS5iZScpIHtcbiAgICAgIHJldHVybiB1cmxPYmoucGF0aG5hbWUuc2xpY2UoMSlcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kTWV0YUNvbnRlbnQodGV4dDogc3RyaW5nLCBwYXR0ZXJuczogUmVnRXhwW10pOiBzdHJpbmcgfCBudWxsIHtcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKHBhdHRlcm4pXG4gICAgaWYgKG1hdGNoPy5bMV0pIHtcbiAgICAgIHJldHVybiBtYXRjaFsxXVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0SW1hZ2UoaG9zdG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBkZWZhdWx0SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICd5b3V0dWJlLmNvbSc6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9pbWcvZGVza3RvcC95dF8xMjAwLnBuZycsXG4gICAgJ3lvdXR1LmJlJzogJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2ltZy9kZXNrdG9wL3l0XzEyMDAucG5nJyxcbiAgICAnZ2l0aHViLmNvbSc6ICdodHRwczovL2dpdGh1Yi5naXRodWJhc3NldHMuY29tL2ltYWdlcy9tb2R1bGVzL2xvZ29zX3BhZ2UvR2l0SHViLU1hcmsucG5nJyxcbiAgICAnbGlua2VkaW4uY29tJzogJ2h0dHBzOi8vc3RhdGljLmxpY2RuLmNvbS9hZXJvLXYxL3NjL2gvM3Vzam9xdnNmcnI3ejNvdnd2azhyNm16MCcsXG4gICAgJ2ZpZ21hLmNvbSc6ICdodHRwczovL2Nkbi5zYW5pdHkuaW8vaW1hZ2VzLzU5OXI2aHRjL2xvY2FsaXplZC80NmE3NmM4MDIxNzZlYjE3YjA0ZTEyMTA4ZGU3ZTdlMGYzNzM2ZGM2LTExMDh4MTEwOC5wbmcnLFxuICAgICd0d2l0dGVyLmNvbSc6ICdodHRwczovL2Ficy50d2ltZy5jb20vcmVzcG9uc2l2ZS13ZWIvY2xpZW50LXdlYi9pY29uLWlvcy5iMWZjNzI3YS5wbmcnLFxuICAgICdtZWRpdW0uY29tJzogJ2h0dHBzOi8vbWlyby5tZWRpdW0uY29tL3YyLzEqbS1SX0JrTmYxUWpyMVlieU9JSlkydy5wbmcnLFxuICAgICdjb2RlcGVuLmlvJzogJ2h0dHBzOi8vYXNzZXRzLmNvZGVwZW4uaW8vdC0xL2NvZGVwZW4tbG9nby5zdmcnXG4gIH1cblxuICBmb3IgKGNvbnN0IFtkb21haW4sIGltYWdlXSBvZiBPYmplY3QuZW50cmllcyhkZWZhdWx0SW1hZ2VzKSkge1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcyhkb21haW4pKSB7XG4gICAgICByZXR1cm4gaW1hZ2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICBjb25zdCB1cmxTdHJpbmcgPSBzZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKVxuXG4gIGlmICghdXJsU3RyaW5nIHx8ICFpc1ZhbGlkVXJsKHVybFN0cmluZykpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIGVycm9yOiAnSW52YWxpZCBVUkwnLFxuICAgICAgdGl0bGU6ICdJbnZhbGlkIFVSTCcsXG4gICAgICBzaXRlTmFtZTogJ0Vycm9yJ1xuICAgIH0sIHsgXG4gICAgICBzdGF0dXM6IDQwMCBcbiAgICB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHVybFN0cmluZylcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcHJldmlldyBmb3I6JywgdXJsU3RyaW5nKVxuXG4gICAgLy8gSGFuZGxlIFlvdVR1YmUgVVJMc1xuICAgIGNvbnN0IHlvdXR1YmVJZCA9IGdldFlvdVR1YmVJZCh1cmxTdHJpbmcpXG4gICAgaWYgKHlvdXR1YmVJZCkge1xuICAgICAgY29uc29sZS5sb2coJ1lvdVR1YmUgdmlkZW8gZGV0ZWN0ZWQsIElEOicsIHlvdXR1YmVJZClcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHRpdGxlOiAnWW91VHViZSBWaWRlbycsXG4gICAgICAgIGltYWdlOiBgaHR0cHM6Ly9pbWcueW91dHViZS5jb20vdmkvJHt5b3V0dWJlSWR9L21heHJlc2RlZmF1bHQuanBnYCxcbiAgICAgICAgc2l0ZU5hbWU6ICdZb3VUdWJlJyxcbiAgICAgICAgdHlwZTogJ3ZpZGVvJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBUcnkgZGVmYXVsdCBpbWFnZSBmaXJzdFxuICAgIGNvbnN0IGRlZmF1bHRJbWFnZSA9IGdldERlZmF1bHRJbWFnZSh1cmwuaG9zdG5hbWUpXG4gICAgaWYgKGRlZmF1bHRJbWFnZSkge1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGRlZmF1bHQgaW1hZ2UgZm9yOicsIHVybC5ob3N0bmFtZSlcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBwYWdlIGNvbnRlbnRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybFN0cmluZywge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTEuMC40NDcyLjExNCBTYWZhcmkvNTM3LjM2J1xuICAgICAgfSxcbiAgICAgIG5leHQ6IHsgcmV2YWxpZGF0ZTogMzYwMCB9XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgVVJMOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9KVxuXG4gICAgaWYgKCFyZXNwb25zZT8ub2spIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gZmV0Y2ggVVJMLCB1c2luZyBkZWZhdWx0IGltYWdlJylcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHRpdGxlOiB1cmwuaG9zdG5hbWUsXG4gICAgICAgIHNpdGVOYW1lOiB1cmwuaG9zdG5hbWUsXG4gICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgaW1hZ2U6IGRlZmF1bHRJbWFnZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggVVJMJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgXG4gICAgLy8gVHJ5IG11bHRpcGxlIG1ldGEgdGFnIHBhdHRlcm5zIGZvciBpbWFnZXNcbiAgICBjb25zdCBpbWFnZVBhdHRlcm5zID0gW1xuICAgICAgLzxtZXRhW14+XSpwcm9wZXJ0eT1cIm9nOmltYWdlXCJbXj5dKmNvbnRlbnQ9XCIoW15cIl0qKVwiW14+XSo+L2ksXG4gICAgICAvPG1ldGFbXj5dKmNvbnRlbnQ9XCIoW15cIl0qKVwiW14+XSpwcm9wZXJ0eT1cIm9nOmltYWdlXCJbXj5dKj4vaSxcbiAgICAgIC88bWV0YVtePl0qbmFtZT1cInR3aXR0ZXI6aW1hZ2VcIltePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKj4vaSxcbiAgICAgIC88bWV0YVtePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKm5hbWU9XCJ0d2l0dGVyOmltYWdlXCJbXj5dKj4vaSxcbiAgICAgIC88bGlua1tePl0qcmVsPVwiaW1hZ2Vfc3JjXCJbXj5dKmhyZWY9XCIoW15cIl0qKVwiW14+XSo+L2ksXG4gICAgICAvPGxpbmtbXj5dKmhyZWY9XCIoW15cIl0qKVwiW14+XSpyZWw9XCJpbWFnZV9zcmNcIltePl0qPi9pXG4gICAgXVxuXG4gICAgbGV0IGltYWdlVXJsID0gZmluZE1ldGFDb250ZW50KHRleHQsIGltYWdlUGF0dGVybnMpXG4gICAgY29uc29sZS5sb2coJ0ZvdW5kIG1ldGEgaW1hZ2U6JywgaW1hZ2VVcmwpXG5cbiAgICAvLyBJZiBubyBtZXRhIGltYWdlIGZvdW5kLCB0cnkgdG8gZmluZCBhIGxhcmdlIGltYWdlIGluIHRoZSBIVE1MXG4gICAgaWYgKCFpbWFnZVVybCkge1xuICAgICAgY29uc3QgaW1nUGF0dGVybiA9IC88aW1nW14+XSpzcmM9XCIoW15cIl0qKVwiW14+XSo+L2dpXG4gICAgICBsZXQgbWF0Y2hcbiAgICAgIHdoaWxlICgobWF0Y2ggPSBpbWdQYXR0ZXJuLmV4ZWModGV4dCkpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGltZ1RhZyA9IG1hdGNoWzBdXG4gICAgICAgIGNvbnN0IHNyYyA9IG1hdGNoWzFdXG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBpbWFnZSBoYXMgd2lkdGgvaGVpZ2h0IGF0dHJpYnV0ZXMgaW5kaWNhdGluZyBhIGxhcmdlIGltYWdlXG4gICAgICAgIGNvbnN0IHdpZHRoTWF0Y2ggPSBpbWdUYWcubWF0Y2goL3dpZHRoPVwiKFxcZCspXCIvaSlcbiAgICAgICAgY29uc3QgaGVpZ2h0TWF0Y2ggPSBpbWdUYWcubWF0Y2goL2hlaWdodD1cIihcXGQrKVwiL2kpXG4gICAgICAgIFxuICAgICAgICBpZiAod2lkdGhNYXRjaCAmJiBoZWlnaHRNYXRjaCkge1xuICAgICAgICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQod2lkdGhNYXRjaFsxXSlcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUludChoZWlnaHRNYXRjaFsxXSlcbiAgICAgICAgICBpZiAod2lkdGggPj0gMjAwICYmIGhlaWdodCA+PSAyMDApIHtcbiAgICAgICAgICAgIGltYWdlVXJsID0gc3JjXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgbGFyZ2UgaW1hZ2UgaW4gSFRNTDonLCBpbWFnZVVybClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCByZWxhdGl2ZSBVUkxzIHRvIGFic29sdXRlXG4gICAgaWYgKGltYWdlVXJsKSB7XG4gICAgICBjb25zdCBhYnNvbHV0ZVVybCA9IGdldEFic29sdXRlVXJsKGltYWdlVXJsLCB1cmwub3JpZ2luKVxuICAgICAgaWYgKGFic29sdXRlVXJsKSB7XG4gICAgICAgIGltYWdlVXJsID0gYWJzb2x1dGVVcmxcbiAgICAgICAgY29uc29sZS5sb2coJ0NvbnZlcnRlZCB0byBhYnNvbHV0ZSBVUkw6JywgaW1hZ2VVcmwpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gZGVmYXVsdCBpbWFnZSBpZiBubyBpbWFnZSBmb3VuZFxuICAgIGlmICghaW1hZ2VVcmwgJiYgZGVmYXVsdEltYWdlKSB7XG4gICAgICBpbWFnZVVybCA9IGRlZmF1bHRJbWFnZVxuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGRlZmF1bHQgaW1hZ2UgZmFsbGJhY2snKVxuICAgIH1cblxuICAgIC8vIEdldCBvdGhlciBtZXRhZGF0YVxuICAgIGNvbnN0IHRpdGxlUGF0dGVybnMgPSBbXG4gICAgICAvPG1ldGFbXj5dKnByb3BlcnR5PVwib2c6dGl0bGVcIltePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKj4vaSxcbiAgICAgIC88bWV0YVtePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKnByb3BlcnR5PVwib2c6dGl0bGVcIltePl0qPi9pLFxuICAgICAgLzx0aXRsZT4oLio/KTxcXC90aXRsZT4vaVxuICAgIF1cblxuICAgIGNvbnN0IGRlc2NyaXB0aW9uUGF0dGVybnMgPSBbXG4gICAgICAvPG1ldGFbXj5dKnByb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIltePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKj4vaSxcbiAgICAgIC88bWV0YVtePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKnByb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIltePl0qPi9pLFxuICAgICAgLzxtZXRhW14+XSpuYW1lPVwiZGVzY3JpcHRpb25cIltePl0qY29udGVudD1cIihbXlwiXSopXCJbXj5dKj4vaVxuICAgIF1cblxuICAgIGNvbnN0IHNpdGVOYW1lUGF0dGVybnMgPSBbXG4gICAgICAvPG1ldGFbXj5dKnByb3BlcnR5PVwib2c6c2l0ZV9uYW1lXCJbXj5dKmNvbnRlbnQ9XCIoW15cIl0qKVwiW14+XSo+L2ksXG4gICAgICAvPG1ldGFbXj5dKmNvbnRlbnQ9XCIoW15cIl0qKVwiW14+XSpwcm9wZXJ0eT1cIm9nOnNpdGVfbmFtZVwiW14+XSo+L2lcbiAgICBdXG5cbiAgICBjb25zdCB0aXRsZSA9IGZpbmRNZXRhQ29udGVudCh0ZXh0LCB0aXRsZVBhdHRlcm5zKSB8fCB1cmwuaG9zdG5hbWVcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZpbmRNZXRhQ29udGVudCh0ZXh0LCBkZXNjcmlwdGlvblBhdHRlcm5zKSB8fCAnJ1xuICAgIGNvbnN0IHNpdGVOYW1lID0gZmluZE1ldGFDb250ZW50KHRleHQsIHNpdGVOYW1lUGF0dGVybnMpIHx8IHVybC5ob3N0bmFtZVxuXG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgdGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgIHNpdGVOYW1lLFxuICAgICAgdHlwZTogJ2xpbmsnXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1ByZXZpZXcgcmVzdWx0OicsIHJlc3VsdClcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBVUkw6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICB0aXRsZTogJ0ludmFsaWQgVVJMJyxcbiAgICAgIHNpdGVOYW1lOiAnRXJyb3InLFxuICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gcHJvY2VzcyBVUkwnXG4gICAgfSlcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiaXNWYWxpZFVybCIsInVybFN0cmluZyIsInVybCIsIlVSTCIsInByb3RvY29sIiwiZ2V0QWJzb2x1dGVVcmwiLCJyZWxhdGl2ZVVybCIsImJhc2VVcmwiLCJzdGFydHNXaXRoIiwib3JpZ2luIiwidG9TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJnZXRZb3VUdWJlSWQiLCJ1cmxPYmoiLCJob3N0bmFtZSIsImluY2x1ZGVzIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwicGF0aG5hbWUiLCJzbGljZSIsImZpbmRNZXRhQ29udGVudCIsInRleHQiLCJwYXR0ZXJucyIsInBhdHRlcm4iLCJtYXRjaCIsImdldERlZmF1bHRJbWFnZSIsImRlZmF1bHRJbWFnZXMiLCJkb21haW4iLCJpbWFnZSIsIk9iamVjdCIsImVudHJpZXMiLCJHRVQiLCJyZXF1ZXN0IiwianNvbiIsInRpdGxlIiwic2l0ZU5hbWUiLCJzdGF0dXMiLCJsb2ciLCJ5b3V0dWJlSWQiLCJ0eXBlIiwiZGVmYXVsdEltYWdlIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJuZXh0IiwicmV2YWxpZGF0ZSIsImNhdGNoIiwib2siLCJpbWFnZVBhdHRlcm5zIiwiaW1hZ2VVcmwiLCJpbWdQYXR0ZXJuIiwiZXhlYyIsImltZ1RhZyIsInNyYyIsIndpZHRoTWF0Y2giLCJoZWlnaHRNYXRjaCIsIndpZHRoIiwicGFyc2VJbnQiLCJoZWlnaHQiLCJhYnNvbHV0ZVVybCIsInRpdGxlUGF0dGVybnMiLCJkZXNjcmlwdGlvblBhdHRlcm5zIiwic2l0ZU5hbWVQYXR0ZXJucyIsImRlc2NyaXB0aW9uIiwicmVzdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/preview/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpreview%2Froute&page=%2Fapi%2Fpreview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreview%2Froute.ts&appDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcorinfogarty%2FDesktop%2FDev%20Playground%2FTraining&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();