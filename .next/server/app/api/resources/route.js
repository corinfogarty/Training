"use strict";(()=>{var e={};e.id=193,e.ids=[193],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57816:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>h,patchFetch:()=>j,requestAsyncStorage:()=>y,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>v});var a={};t.r(a),t.d(a,{GET:()=>l,POST:()=>d});var o=t(95419),s=t(69108),n=t(99678),i=t(78070),u=t(3214),c=t(53524);async function l(){try{let e=await u._.resource.findMany({include:{favoritedBy:!0,completedBy:!0}});return i.Z.json(e||[])}catch(r){let e=r instanceof Error?r.message:"Failed to fetch resources";return i.Z.json({error:e},{status:500})}}async function d(e){try{let r=await e.json();if(!r.title||!r.description||!r.url||!r.type||!r.categoryId)return i.Z.json({error:"All fields are required"},{status:400});if(!Object.values(c.ResourceType).includes(r.type))return i.Z.json({error:"Invalid resource type"},{status:400});let t=await u._.category.findUnique({where:{id:r.categoryId}});if(!t)return i.Z.json({error:"Category not found"},{status:404});let a=r.previewImage||t.defaultImage||null,o=await u._.resource.create({data:{title:r.title,description:r.description,url:r.url,type:r.type,categoryId:r.categoryId,previewImage:a}});return i.Z.json(o)}catch(r){console.error("Error creating resource:",r);let e=r instanceof Error?r.message:"Failed to create resource";return i.Z.json({error:e},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/resources/route",pathname:"/api/resources",filename:"route",bundlePath:"app/api/resources/route"},resolvedPagePath:"/Users/corinfogarty/Desktop/Dev Playground/Training/app/api/resources/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:y,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:m,staticGenerationBailout:v}=p,h="/api/resources/route";function j(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},3214:(e,r,t)=>{t.d(r,{_:()=>o});var a=t(53524);let o=global.prisma||new a.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[431,206],()=>t(57816));module.exports=a})();